
console.log("Entered mapCreation()");
mapboxgl.accessToken = 'pk.eyJ1Ijoicm9iZXJ0cSIsImEiOiJjanJhMnpuZDAwbzZ2NDRzN3R3bDJrYXIyIn0.r7vrbI2RSHKHpZDN65aNig';

// Temporary data - used to test 
var listOrigins =[
		[-73.8616159, 45.4555045],
		[-73.71603347, 45.48771512],
		[-73.68278634, 45.51432425],
		[-73.5764718, 45.49221169],
		[-73.8501137, 45.48931851],
		[-73.8785486, 45.48687137],
		[-73.85536379, 45.49170266],
		[-73.87375319, 45.47049037],
		[-73.8519328, 45.49190305],
		[-73.8785486, 45.48687137],
		[-73.86215468, 45.48219809],
		[-73.78618559, 45.50498463],
		[-73.85758307, 45.48577075],
		[-73.81440971, 45.50124713],
		[-73.85218752, 45.47791225],
		[-73.85964595, 45.48400611],
		[-73.82936275, 45.51062331],
		[-73.8867426, 45.47982917],
		[-73.88947702, 45.4581171],
		[-73.80470899, 45.51052759],
		[-73.8785486, 45.48687137],
		[-73.86618756, 45.4870377],
		[-73.82157164, 45.50859984],
		[-73.76006304, 45.50786795],
		[-73.8501137, 45.48931851],
		[-73.86846729, 45.48261167],
		[-73.8785486, 45.48687137],
		[-73.77891765, 45.50433271],
		[-73.86888902, 45.46427743],
		[-73.8648757, 45.48030761],
		[-73.786211, 45.50494857],
		[-73.88939155, 45.45655615],
		[-73.85967131, 45.48397004],
		[-73.86744648, 45.48333636],
		[-73.86797901, 45.46187647],
		[-73.786211, 45.50494857],
		[-73.78984721, 45.50575951],
		[-73.88891665, 45.45291358],
		[-73.86218004, 45.48216201],
		[-73.87982423, 45.47000962],
		[-73.87410944, 45.46675725],
		[-73.79108423, 45.50603009],
		[-73.88529859, 45.45349706],
		[-73.86385573, 45.47398366],
		[-73.86362523, 45.5028815],
		[-73.85105929, 45.49522536],
		[-73.82743592, 45.51315431],
		[-73.8785486, 45.48687137],
		[-73.87551893, 45.46889525],
		[-73.87551893, 45.46889525],
		[-73.87551893, 45.46889525],
		[-73.87551893, 45.46889525],
		[-73.81998411, 45.50673325],
		[-73.8879507, 45.46050767],
		[-73.85637767, 45.48783016],
		[-73.85967131, 45.48397004],
		[-73.85967131, 45.48397004],
		[-73.8785486, 45.48687137],
		[-73.86730633, 45.4613184],
		[-73.87353118, 45.47370223],
		[-73.85730808, 45.48613557],
		[-73.77797409, 45.50374205],
		[-73.87551893, 45.46889525],
		[-73.86733167, 45.46128233],
		[-73.77536254, 45.50211426],
		[-73.86846729, 45.48261167],
		[-73.8785486, 45.48687137],
		[-73.77354872, 45.50671231],
		[-73.87624242, 45.50273676],
		[-73.78047682, 45.50407697],
		[-73.87677827, 45.49521626],
		[-73.87270596, 45.47271462],
		[-73.78536248, 45.50481295],
		[-73.86388088, 45.49609408],
		[-73.8648757, 45.48030761],
		[-73.78048166, 45.50126495],
		[-73.83836388, 45.50054454],
		[-73.85208654, 45.49447226],
		[-73.8785486, 45.48687137],
		[-73.85195817, 45.49186697],
		[-73.81363821, 45.51257942],
		[-73.86730633, 45.4613184],
		[-73.85690565, 45.48679943],
		[-73.85690565, 45.48679943],
		[-73.84165898, 45.50260559],
		[-73.79944231, 45.5104582],
		[-73.8785486, 45.48687137],
		[-73.82213414, 45.50580339],
		[-73.87272709, 45.46995257],
		[-73.8785486, 45.48687137],
		[-73.8501137, 45.48931851],
		[-73.86849264, 45.4825756],
		[-73.8663751, 45.46033902],
		[-73.81440971, 45.50124713],
		[-73.81998411, 45.50673325],
		[-73.8453774, 45.50402066],
		[-73.85364389, 45.49072899],
		[-73.87154168, 45.49056375],
		[-73.82213414, 45.50580339],
		[-73.87154168, 45.49056375],
		[-73.80691772, 45.51012217],
		[-73.85108466, 45.49518929],
		[-73.87093505, 45.50436444],
		[-73.8464885, 45.49570274],
		[-73.8785486, 45.48687137],
		[-73.84996522, 45.49320407],
		[-73.8519328, 45.49190305],
		[-73.81167154, 45.49833316],
		[-73.81295243, 45.50258886],
		[-73.85967131, 45.48397004],
		[-73.80341547, 45.50838607],
		[-73.83836388, 45.50054454],
		[-73.82213414, 45.50580339],
		[-73.786211, 45.50494857],
		[-73.8689861, 45.46224048],
		[-73.84995094, 45.47860841],
		[-73.75630381, 45.50352406],
		[-73.86733167, 45.46128233],
		[-73.90905733, 45.5076321],
		[-73.86218004, 45.48216201],
		[-73.77601474, 45.5034018],
		[-73.78045141, 45.50411303],
		[-73.82213414, 45.50580339],
		[-73.77643798, 45.50541408],
		[-73.86795367, 45.46191254],
		[-73.82465948, 45.51375737],
		[-73.88517269, 45.46361628],
		[-73.8747465, 45.46783817],
		[-73.81691079, 45.51047407],
		[-73.87424628, 45.47637131],
		[-73.8679953, 45.47823699],
		[-73.77502344, 45.50449966],
		[-73.8785486, 45.48687137],
		[-73.8502764, 45.49722616],
		[-73.8663751, 45.46033902],
		[-73.87914382, 45.45892124],
		[-73.81566911, 45.50971264],
		[-73.87677827, 45.49521626],
		[-73.78984721, 45.50575951],
		[-73.83841072, 45.50688501],
		[-73.87737646, 45.47143091],
		[-73.82340052, 45.50529449],
		[-73.87100284, 45.47599111],
		[-73.77560863, 45.50579402],
		[-73.84020341, 45.50300811],
		[-73.87389337, 45.49453011],
		[-73.84419171, 45.50789356],
		[-73.82213414, 45.50580339],
		[-73.8785486, 45.48687137],
		[-73.8501137, 45.48931851],
		[-73.8519328, 45.49190305],
		[-73.8785486, 45.48687137],
		[-73.86601648, 45.47956256],
		[-73.8785486, 45.48687137],
		[-73.81167154, 45.49833316],
		[-73.81998411, 45.50673325],
		[-73.81998411, 45.50673325],
		[-73.86484856, 45.48505491],
		[-73.93709691, 45.4496001],
		[-73.74347347, 45.49502392],
		[-73.85760843, 45.48573468],
		[-73.84766908, 45.48841097],
		[-73.8501137, 45.48931851],
		[-73.85964595, 45.48400611],
		[-73.81440971, 45.50124713],
		[-73.81440971, 45.50124713],
		[-73.81385964, 45.51093112],
		[-73.8785486, 45.48687137],
		[-73.82627519, 45.51208092],
		[-73.82562096, 45.50464214],
		[-73.89146026, 45.46376404],
		[-73.85195817, 45.49186697],
		[-73.86555291, 45.4597763],
		[-73.82157164, 45.50859984],
		[-73.86005433, 45.4846362],
		[-73.86904518, 45.47751431],
		[-73.87413478, 45.46672117],
		[-73.84626997, 45.48908054],
		[-73.81440971, 45.50124713],
		[-73.87084186, 45.47427501],
		[-73.85289384, 45.49344701],
		[-73.8747465, 45.46783817],
		[-73.78538789, 45.5047769],
		[-73.78137021, 45.50672931],
		[-73.8785486, 45.48687137],
		[-73.77715182, 45.50508841],
		[-73.77290878, 45.50141509],
		[-73.84919125, 45.49242012],
		[-73.82213414, 45.50580339],
		[-73.86730633, 45.4613184],
		[-73.81920445, 45.50954984],
		[-73.54349694, 45.46908181],
		[-73.85843095, 45.48491732],
		[-73.83927141, 45.51145215],
		[-73.85843095, 45.48491732],
		[-73.78047682, 45.50407697],
		[-73.77643798, 45.50541408],
		[-73.8663751, 45.46033902],
		[-73.84115766, 45.50272857],
		[-73.87551893, 45.46889525],
		[-73.87980409, 45.49698672],
		[-73.8832354, 45.49001052],
		[-73.83658999, 45.50138029],
		[-73.81258772, 45.51304575],
		[-73.85637767, 45.48783016],
		[-73.786211, 45.50494857],
		[-73.83286654, 45.51277052],
		[-73.77439653, 45.50338104],
		[-73.78270305, 45.5056377],
		[-73.81167154, 45.49833316],
		[-73.84722441, 45.50068114],
		[-73.88174824, 45.45938948],
		[-73.81524039, 45.50202917],
		[-73.76006304, 45.50786795],
		[-73.86005433, 45.4846362],
		[-73.8785486, 45.48687137],
		[-73.87255977, 45.46462323],
		[-73.8785486, 45.48687137],
		[-73.8785486, 45.48687137],
		[-73.8785486, 45.48687137],
		[-73.8785486, 45.48687137],
		[-73.81998411, 45.50673325],
		[-73.85758307, 45.48577075],
		[-73.86634976, 45.46037509],
		[-73.8663751, 45.46033902],
		[-73.80297532, 45.5099117],
		[-73.86144235, 45.48270504],
		[-73.88794914, 45.49408754],
		[-73.8501137, 45.48931851],
		[-73.8501137, 45.48931851],
		[-73.8785486, 45.48687137],
		[-73.85569473, 45.5028012],
		[-73.8785486, 45.48687137],
		[-73.8785486, 45.48687137],
		[-73.80143648, 45.50926428],
		[-73.93376782, 45.45581888],
		[-73.807023, 45.510919],
		[-73.85514374, 45.50080752],
		[-73.87055581, 45.50822376],
		[-73.81095104, 45.49759931],
		[-73.86601648, 45.47956256],
		[-73.87716928, 45.46644152],
		[-73.86733167, 45.46128233],
		[-73.87100284, 45.47599111],
		[-73.85484189, 45.4898811],
		[-73.86996908, 45.47932367],
		[-73.88454186, 45.46279331],
		[-73.786211, 45.50494857],
		[-73.75630381, 45.50352406],
		[-73.87551893, 45.46889525],
		[-73.8501137, 45.48931851],
		[-73.86218004, 45.48216201],
		[-73.86484856, 45.48505491],
		[-73.88094488, 45.45671961],
		[-73.82213414, 45.50580339],
		[-73.87410944, 45.46675725],
		[-73.82213414, 45.50580339],
		[-73.83836388, 45.50054454],
		[-73.81383424, 45.51096719],
		[-73.82094018, 45.51043909],
		[-73.88077432, 45.4700537],
		[-73.87677827, 45.49521626],
		[-73.88213933, 45.46422487],
		[-73.8785486, 45.48687137],
		[-73.83469375, 45.50205246],
		[-73.8464885, 45.49570274],
		[-73.8501137, 45.48931851],
		[-73.77850243, 45.50446209],
		[-73.81802954, 45.50471003],
		[-73.83507352, 45.50653491],
		[-73.87193418, 45.49032135],
		[-73.82734267, 45.50403985],
		[-73.87258511, 45.46458715],
		[-73.82157164, 45.50859984],
		[-73.86588415, 45.48183863],
		[-73.79498342, 45.50684993],
		[-73.88971018, 45.46647985],
		[-73.8785486, 45.48687137],
		[-73.85195817, 45.49186697],
		[-73.84996522, 45.49320407],
		[-73.81998411, 45.50673325],
		[-73.88425007, 45.45845425],
		[-73.86882345, 45.45909534],
		[-73.90155644, 45.45778865],
		[-73.84964693, 45.49717336],
		[-73.81440971, 45.50124713],
		[-73.807023, 45.510919],
		[-73.87410944, 45.46675725],
		[-73.76921784, 45.50764044],
		[-73.76006304, 45.50786795],
		[-73.79353032, 45.50647625],
		[-73.88630993, 45.49263751],
		[-73.8774018, 45.47139483],
		[-73.86484856, 45.48505491],
		[-73.88174824, 45.45938948],
		[-73.80368334, 45.50921205],
		[-73.87677827, 45.49521626],
		[-73.8481898, 45.49442802],
		[-73.8519328, 45.49190305],
		[-73.88854714, 45.48024808],
		[-73.86346158, 45.4812748],
		[-73.91824789, 45.46138316],
		[-73.86669287, 45.46077257],
		[-73.87573595, 45.49433311],
		[-73.84032288, 45.50473008],
		[-73.84624461, 45.48911661],
		[-73.88310905, 45.48384418],
		[-73.84709956, 45.49650174],
		[-73.86730633, 45.4613184],
		[-73.786211, 45.50494857],
		[-73.8785486, 45.48687137],
		[-73.8582503, 45.48508256],
		[-73.78618559, 45.50498463],
		[-73.82908407, 45.50638136],
		[-73.81998411, 45.50673325],
		[-73.85189858, 45.47747207],
		[-73.86757731, 45.48716306],
		[-73.86248406, 45.46795582],
		[-73.76006304, 45.50786795],
		[-73.92664691, 45.45856179],
		[-73.92026726, 45.46104946],
		[-73.8747465, 45.46783817],
		[-73.86642683, 45.48273314],
		[-73.83836388, 45.50054454],
		[-73.82154625, 45.50863591],
		[-73.84777995, 45.49736897],
		[-73.8501137, 45.48931851],
		[-73.85758307, 45.48577075],
		[-73.90260505, 45.45999025],
		[-73.88130536, 45.46482156],
		[-73.86164448, 45.5074691],
		[-73.83836388, 45.50054454],
		[-73.81998411, 45.50673325],
		[-73.88564733, 45.46233676],
		[-73.8476409, 45.5116647],
		[-73.85108466, 45.49518929],
		[-73.87176988, 45.46400096],
		[-73.82734267, 45.50403985],
		[-73.84681449, 45.48976032],
		[-73.8519328, 45.49190305],
		[-73.86484856, 45.48505491],
		[-73.86218004, 45.48216201],
		[-73.8804179, 45.4577067],
		[-73.83980123, 45.50309255],
		[-73.80111464, 45.50336305],
		[-73.83686722, 45.50185661],
		[-73.77133272, 45.50484693],
		[-73.81167154, 45.49833316],
		[-73.87603546, 45.4665304],
		[-73.85011103, 45.48898785],
		[-73.85816519, 45.47308058],
		[-73.82893271, 45.50369967],
		[-73.786211, 45.50494857],
		[-73.89300897, 45.45986678],
		[-73.90371955, 45.4554034],
		[-73.82213414, 45.50580339],
		[-73.8519328, 45.49190305],
		[-73.84996522, 45.49320407],
		[-73.89059731, 45.46040867],
		[-73.79350491, 45.50651231],
		[-73.87371387, 45.4895216],
		[-73.82340052, 45.50529449],
		[-73.8501137, 45.48931851],
		[-73.77643798, 45.50541408],
		[-73.82315319, 45.51068098],
		[-73.85637767, 45.48783016],
		[-73.81440971, 45.50124713],
		[-73.86634976, 45.46037509],
		[-73.87251602, 45.49694788],
		[-73.85967131, 45.48397004],
		[-73.83907283, 45.50971534],
		[-73.8790334, 45.45733739],
		[-73.87682497, 45.4644056],
		[-73.8663751, 45.46033902],
		[-73.87154168, 45.49056375],
		[-73.8757278, 45.47255048],
		[-73.8374995, 45.50393652],
		[-73.83836388, 45.50054454],
		[-73.81917905, 45.50958591],
		[-73.82893271, 45.50369967],
		[-73.8785486, 45.48687137],
		[-73.81691079, 45.51047407],
		[-73.82853271, 45.51463472],
		[-73.93608267, 45.48921107],
		[-73.87626525, 45.49478812],
		[-73.8663751, 45.46033902],
		[-73.8501137, 45.48931851],
		[-73.87551893, 45.46889525],
		[-73.85938771, 45.47589326],
		[-73.81440971, 45.50124713],
		[-73.8785486, 45.48687137],
		[-73.85195817, 45.49186697],
		[-73.83836388, 45.50054454],
		[-73.78799534, 45.50531483],
		[-73.88278737, 45.46857347],
		[-73.87248461, 45.47326507],
		[-73.86134545, 45.48071027],
		[-73.87811437, 45.46711855],
		[-73.88417115, 45.46536278],
		[-73.85760843, 45.48573468],
		[-73.85479142, 45.4763823],
		[-73.85733343, 45.4860995],
		[-73.82213414, 45.50580339],
		[-73.8464885, 45.49570274],
		[-73.86510738, 45.46301179],
		[-73.85013639, 45.48895177],
		[-73.86604183, 45.47952649],
		[-73.78987262, 45.50572345],
		[-73.87551893, 45.46889525],
		[-73.8501137, 45.48931851],
		[-73.89044867, 45.45783182],
		[-73.89645588, 45.47776793],
		[-73.86484856, 45.48505491],
		[-73.8785486, 45.48687137],
		[-73.81440971, 45.50124713],
		[-73.81440971, 45.50124713],
		[-73.86879812, 45.45913141],
		[-73.8582503, 45.48508256],
		[-73.81700044, 45.5039422],
		[-73.87248461, 45.47326507],
		[-73.81998411, 45.50673325],
		[-73.87811437, 45.46711855],
		[-73.8757613, 45.49429703],
		[-73.81385964, 45.51093112],
		[-73.84457924, 45.49707628],
		[-73.80192859, 45.51350315],
		[-73.87734971, 45.47237036],
		[-73.87628931, 45.48972617],
		[-73.86054273, 45.4833546],
		[-73.81574996, 45.51079672],
		[-73.85031931, 45.50393373],
		[-73.84923291, 45.48763381],
		[-73.86167879, 45.48707563],
		[-73.84387797, 45.50208152],
		[-73.85113134, 45.49059567],
		[-73.86484856, 45.48505491],
		[-73.79350491, 45.50651231],
		[-73.7729342, 45.50137903],
		[-73.86056809, 45.48331853],
		[-73.75630381, 45.50352406],
		[-73.807023, 45.510919],
		[-73.807023, 45.510919],
		[-73.86068617, 45.4878521],
		[-73.81574996, 45.51079672],
		[-73.88383379, 45.49760305],
		[-73.8648757, 45.48030761],
		[-73.82213414, 45.50580339],
		[-73.85013639, 45.48895177],
		[-73.86846729, 45.48261167],
		[-73.87475937, 45.46503669],
		[-73.81658529, 45.51298782],
		[-73.88744072, 45.46563327],
		[-73.81761153, 45.51019767],
		[-73.82036888, 45.506513],
		[-73.83469375, 45.50205246],
		[-73.78536248, 45.50481295],
		[-73.81199858, 45.51156185],
		[-73.786211, 45.50494857],
		[-73.81440971, 45.50124713],
		[-73.87551893, 45.46889525],
		[-73.89525633, 45.46301493],
		[-73.81998411, 45.50673325],
		[-73.85195817, 45.49186697],
		[-73.82340052, 45.50529449],
		[-73.82734267, 45.50403985],
		[-73.87298569, 45.4571958],
		[-73.85733343, 45.4860995],
		[-73.79703929, 45.50760345],
		[-73.81920445, 45.50954984],
		[-73.77759875, 45.50614943],
		[-73.8501137, 45.48931851],
		[-73.8785486, 45.48687137],
		[-73.78536248, 45.50481295],
		[-73.82344522, 45.51161171],
		[-73.82213414, 45.50580339],
		[-73.85195817, 45.49186697],
		[-73.8785486, 45.48687137],
		[-73.80609845, 45.50869416],
		[-73.85108466, 45.49518929],
		[-73.85289384, 45.49344701],
		[-73.8464885, 45.49570274],
		[-73.8785486, 45.48687137],
		[-73.86484856, 45.48505491],
		[-73.8785486, 45.48687137],
		[-73.8785486, 45.48687137],
		[-73.8785486, 45.48687137],
		[-73.83318818, 45.51478566],
		[-73.85013639, 45.48895177],
		[-73.87311669, 45.45870188],
		[-73.76921784, 45.50764044],
		[-73.8785486, 45.48687137],
		[-73.84993985, 45.49324014],
		[-73.86146677, 45.48674336],
		[-73.85637767, 45.48783016],
		[-73.81914371, 45.5061621],
		[-73.87730539, 45.47150722],
		[-73.89145538, 45.45154701],
		[-73.82213414, 45.50580339],
		[-73.85758307, 45.48577075],
		[-73.80682193, 45.51149449],
		[-73.8785486, 45.48687137],
		[-73.87017717, 45.47332124],
		[-73.88130536, 45.46482156],
		[-73.87175351, 45.47502133],
		[-73.89273991, 45.46398],
		[-73.87872276, 45.45980805],
		[-73.85195817, 45.49186697],
		[-73.82853271, 45.51463472],
		[-73.8785486, 45.48687137],
		[-73.77437841, 45.50096033],
		[-73.87896449, 45.48641117],
		[-73.87573595, 45.49433311],
		[-73.86356965, 45.48119988],
		[-73.85760843, 45.48573468],
		[-73.83836388, 45.50054454],
		[-73.81998411, 45.50673325],
		[-73.85964595, 45.48400611],
		[-73.81795661, 45.50608936],
		[-73.85389644, 45.48802709],
		[-73.87484032, 45.46940993],
		[-73.8423108, 45.50247316],
		[-73.80868603, 45.51162333],
		[-73.83469375, 45.50205246],
		[-73.86005433, 45.4846362],
		[-73.87154168, 45.49056375],
		[-73.82340052, 45.50529449],
		[-73.87176014, 45.47987677],
		[-73.86484856, 45.48505491],
		[-73.8519328, 45.49190305],
		[-73.83090074, 45.50460389],
		[-73.87778779, 45.47120867],
		[-73.81920445, 45.50954984],
		[-73.87551893, 45.46889525],
		[-73.85195817, 45.49186697],
		[-73.8735803, 45.47075549],
		[-73.87176014, 45.47987677],
		[-73.86490382, 45.50390053],
		[-73.84900021, 45.49773773],
		[-73.82213414, 45.50580339],
		[-73.78392092, 45.50451013],
		[-73.81092565, 45.49763537],
		[-73.8785486, 45.48687137],
		[-73.82518191, 45.51310589],
		[-73.81995872, 45.50676931],
		[-73.88694587, 45.47887212],
		[-73.86730633, 45.4613184],
		[-73.81383424, 45.51096719],
		[-73.8663751, 45.46033902],
		[-73.82981056, 45.51245095],
		[-73.78536248, 45.50481295],
		[-73.81385964, 45.51093112],
		[-73.86846729, 45.48261167],
		[-73.82734267, 45.50403985],
		[-73.86730633, 45.4613184],
		[-73.86332817, 45.48138578],
		[-73.83895571, 45.50038826],
		[-73.80300072, 45.50987564],
		[-73.8144351, 45.50121107],
		[-73.84996522, 45.49320407],
		[-73.81914371, 45.5061621],
		[-73.8582503, 45.48508256],
		[-73.77290878, 45.50141509],
		[-73.75630381, 45.50352406],
		[-73.85865206, 45.48228899],
		[-73.87151633, 45.49059982],
		[-73.81150083, 45.51231391],
		[-73.82315319, 45.51068098],
		[-73.87190883, 45.49035743],
		[-73.8785486, 45.48687137],
		[-73.78984721, 45.50575951],
		[-73.83204603, 45.50954248],
		[-73.78763286, 45.50632899],
		[-73.83082334, 45.50611451],
		[-73.76006304, 45.50786795],
		[-73.81385964, 45.51093112],
		[-73.87756218, 45.49232111],
		[-73.87294822, 45.47213792],
		[-73.86757731, 45.48716306],
		[-73.82213414, 45.50580339],
		[-73.82213414, 45.50580339],
		[-73.75523102, 45.50415927],
		[-73.79498342, 45.50684993],
		[-73.81440971, 45.50124713],
		[-73.86215468, 45.48219809],
		[-73.85289384, 45.49344701],
		[-73.86167879, 45.48707563],
		[-73.81440971, 45.50124713],
		[-73.86454024, 45.46903914],
		[-73.8689861, 45.46224048],
		[-73.89062263, 45.46037259],
		[-73.87154168, 45.49056375],
		[-73.81800415, 45.50474609],
		[-73.83081064, 45.50304861],
		[-73.53857183, 45.46773338],
		[-73.83015414, 45.51403512],
		[-73.84436393, 45.4972434],
		[-73.81998411, 45.50673325],
		[-73.87176988, 45.46400096],
		[-73.8663751, 45.46033902],
		[-73.87329702, 45.46558875],
		[-73.86490382, 45.50390053],
		[-73.8663751, 45.46033902],
		[-73.88622508, 45.45240959],
		[-73.87991127, 45.48727716],
		[-73.87677827, 45.49521626],
		[-73.87889745, 45.48924807],
		[-73.85967131, 45.48397004],
		[-73.87551893, 45.46889525],
		[-73.83833851, 45.50058061],
		[-73.85486725, 45.48984503],
		[-73.86172141, 45.5038457],
		[-73.88435099, 45.46133474],
		[-73.81700044, 45.5039422],
		[-73.80370874, 45.50917599],
		[-73.82562096, 45.50464214],
		[-73.84902557, 45.49770165],
		[-73.86994466, 45.50012135],
		[-73.89108602, 45.47224806],
		[-73.87158337, 45.47248999],
		[-73.86601648, 45.47956256],
		[-73.77891765, 45.50433271],
		[-73.81691079, 45.51047407],
		[-73.86369825, 45.47464127],
		[-73.82707161, 45.50678307],
		[-73.86218004, 45.48216201],
		[-73.86215468, 45.48219809],
		[-73.79909884, 45.50835114],
		[-73.8879421, 45.49280377],
		[-73.8519328, 45.49190305],
		[-73.86218004, 45.48216201],
		[-73.76006304, 45.50786795],
		[-73.85195817, 45.49186697],
		[-73.77502344, 45.50449966],
		[-73.86795367, 45.46191254],
		[-73.82148336, 45.49122263],
		[-73.85208654, 45.49447226],
		[-73.86159034, 45.48612432],
		[-73.88421724, 45.46409192],
		[-73.8785486, 45.48687137],
		[-73.77647106, 45.50321507],
		[-73.86202917, 45.48682256],
		[-73.8689861, 45.46224048],
		[-73.88145938, 45.48019089],
		[-73.86585575, 45.4712]
];

var map = new mapboxgl.Map({
	container: 'map',
	style: 'mapbox://styles/mapbox/dark-v9',
	center: [-73.73611450195312 ,45.537136680398625],
	zoom: 10,
	minZoon : 10,
	maxZoom : 0,
	pitch : 60
});
map.on('style.load', function() {

	var cubeArray = [];

	map.addLayer({
		id: 'custom_layer',
		type: 'custom',
		onAdd: function(map, mbxContext){

			if (typeof(Worker) !== "undefined") {
				// Yes! Web worker support!
				// Some code.....
				console.log("yes");
			} else {
				// Sorry! No Web Worker support..
				console.log("no");
			} 
			listOrigins.forEach(function(origin){
				window.threebox = new Threebox(map, mbxContext);
				threebox.setupDefaultLights();
				// initialize geometry and material of our cube object
				var geometry = new THREE.BoxGeometry(450, 450, 450);
				var redMaterial = new THREE.MeshPhongMaterial( {
					color: 0x660000, 
					side: THREE.DoubleSide
				});
				cubeArray.push(new THREE.Mesh(geometry, redMaterial));
			});

			for (var i = 0; i < cubeArray.length; i++) {
				threebox.addAtCoordinate(cubeArray[i], listOrigins[i]);
			}     
		},
		
		render: function(gl, matrix){
			threebox.update(false);
		}
	});
})        	

